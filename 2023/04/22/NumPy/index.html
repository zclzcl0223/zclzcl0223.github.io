<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"zclzcl0223.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12,"onmobile":false},"hljswrap":true,"copycode":{"enable":true,"style":"mac","show_result":false},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="NumPy is a library that extends the base capabilities of python to add a richer data set including mroe numeric types, vectors, matrices, and many matrix functions.">
<meta property="og:type" content="article">
<meta property="og:title" content="NumPy">
<meta property="og:url" content="https://zclzcl0223.github.io/2023/04/22/NumPy/index.html">
<meta property="og:site_name" content="JourneyToCoding">
<meta property="og:description" content="NumPy is a library that extends the base capabilities of python to add a richer data set including mroe numeric types, vectors, matrices, and many matrix functions.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-04-22T03:37:25.000Z">
<meta property="article:modified_time" content="2023-08-09T05:55:46.000Z">
<meta property="article:author" content="ChaosTsang">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Tool">
<meta property="article:tag" content="Data Analysis">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://zclzcl0223.github.io/2023/04/22/NumPy/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://zclzcl0223.github.io/2023/04/22/NumPy/","path":"2023/04/22/NumPy/","title":"NumPy"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>NumPy | JourneyToCoding</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <a target="_blank" rel="noopener" href="https://github.com/zclzcl0223" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">JourneyToCoding</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Code for fun</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Basic-data-structure"><span class="nav-number">1.</span> <span class="nav-text">Basic data structure</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Vectors"><span class="nav-number">1.1.</span> <span class="nav-text">Vectors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Matrices"><span class="nav-number">1.2.</span> <span class="nav-text">Matrices</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Operations"><span class="nav-number">2.</span> <span class="nav-text">Operations</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Indexing-amp-slicing"><span class="nav-number">2.1.</span> <span class="nav-text">Indexing &amp; slicing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Elementwise-computations"><span class="nav-number">2.2.</span> <span class="nav-text">Elementwise computations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Broadcasting"><span class="nav-number">2.3.</span> <span class="nav-text">Broadcasting</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dot-product"><span class="nav-number">2.4.</span> <span class="nav-text">Dot product</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Others"><span class="nav-number">2.5.</span> <span class="nav-text">Others</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tile"><span class="nav-number">2.6.</span> <span class="nav-text">Tile</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#A-dim-gt-len-reps"><span class="nav-number">2.6.1.</span> <span class="nav-text">A.dim &gt; len(reps)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A-dim-lt-len-reps"><span class="nav-number">2.6.2.</span> <span class="nav-text">A.dim &lt; len(reps)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Random-choice"><span class="nav-number">2.7.</span> <span class="nav-text">Random.choice</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#More-information"><span class="nav-number">3.</span> <span class="nav-text">More information</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ChaosTsang"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">ChaosTsang</p>
  <div class="site-description" itemprop="description">Start of Something New</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">100</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zclzcl0223" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zclzcl0223" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:chaostsang0223@gmail.com" title="E-Mail → mailto:chaostsang0223@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://zclzcl0223.github.io/2023/04/22/NumPy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="ChaosTsang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JourneyToCoding">
      <meta itemprop="description" content="Start of Something New">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="NumPy | JourneyToCoding">
      <meta itemprop="description" content="NumPy is a library that extends the base capabilities of python to add a richer data set including mroe numeric types, vectors, matrices, and many matrix functions.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          NumPy
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-22 11:37:25" itemprop="dateCreated datePublished" datetime="2023-04-22T11:37:25+08:00">2023-04-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-08-09 13:55:46" itemprop="dateModified" datetime="2023-08-09T13:55:46+08:00">2023-08-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tool/" itemprop="url" rel="index"><span itemprop="name">Tool</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">NumPy is a library that extends the base capabilities of python to add a richer data set including mroe numeric types, vectors, matrices, and many matrix functions.</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><span id="more"></span>

<h1 id="Basic-data-structure"><a href="#Basic-data-structure" class="headerlink" title="Basic data structure"></a>Basic data structure</h1><p><code>list</code> in python can support different data type so its elements are actually pointers, which waste a lot of memori and CPU time. The basic objects of NumPy are <code>ndarray</code> and <code>ufnc</code>. <code>ndarray</code> store data (bool, int, float and etc.). <code>ufunc</code> contains function to cope with <code>ndarray</code>. <code>ndarray</code>, an indexable, n-dimensional array containing elements of the same type (<code>dtype</code>), where dimension is the number of indices that we need to visit a scalar of the array, is the basic data struture of NumPy .Vectors are 1-D arrays and matrices are 2-D arrays.</p>
<blockquote>
<p>Use <code>.shape</code> and <code>.dtype</code> to get the dimension and element type of an array.</p>
<p>Instead of <code>float64</code>, we often use <code>float32</code> to accelerate computing&#x2F;</p>
</blockquote>
<h2 id="Vectors"><a href="#Vectors" class="headerlink" title="Vectors"></a>Vectors</h2><p>Vectors are 1-D arrays in NumPy. To create a vector, we can use:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a vector with 4 elements whose values are 0 and types are float64</span></span><br><span class="line">a = np.zeros(<span class="number">4</span>)</span><br><span class="line"><span class="comment"># The same as above. We use this mode to create n-D arrays</span></span><br><span class="line">a = np.zeros((<span class="number">4</span>,)) <span class="comment"># np.ones creates ndarray whose values are 1</span></span><br><span class="line"><span class="comment"># Create a vector with 4 elements whose values are random value in [0, 1) and types are float64</span></span><br><span class="line">a = np.random.random_sample((<span class="number">4</span>,))</span><br><span class="line"><span class="comment"># np.arange([start=0], stop, [step=1]). Create an arithmetic progression, [start, stop)</span></span><br><span class="line">a = np.arange(<span class="number">4.</span>)</span><br><span class="line"><span class="comment"># Create a vector with 4 elements whose values are in [0, 1) obeying uniform distribution</span></span><br><span class="line">a = np.random.rand((<span class="number">4</span>,))</span><br><span class="line"><span class="comment"># Specify values manually</span></span><br><span class="line">a = np.array([<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line">a = np.array([<span class="number">5.0</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<h2 id="Matrices"><a href="#Matrices" class="headerlink" title="Matrices"></a>Matrices</h2><p>Matrices are 2-D arrays in NumPy. To create a matrix, the functions used are as those in creating vectors. For examples:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.zeros((<span class="number">4</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>However, when specifying values, numpy specifies rows first:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">              [<span class="number">3</span>, <span class="number">4</span>]])</span><br></pre></td></tr></table></figure>
<p>We can also create a matrix from a vector:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.zeros(<span class="number">6</span>).reshape(-<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>which will create a 3x2 matrix. <code>-1</code> indicates that the number of row depends on the number of column. If <code>.reshape(-1, )</code>, we turn a matrix to a vector by concentrating the vector row by row, that is:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">              [<span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="built_in">print</span>(a.reshape(-<span class="number">1</span>, ))</span><br><span class="line"><span class="comment"># We get: [2 3 4 5]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>.reshape</code> regard a matrix as a vector with $mn$ elements. Therefore, if we want to transpose a matrix, we must use <code>a.T</code> rather than <code>.reshape</code>. <strong>The return object of <code>.reshape</code> shares memory with initial object but <code>.reshape</code> doesn&#39;t change the shape of initial object</strong>.</p>
</blockquote>
<h1 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h1><h2 id="Indexing-amp-slicing"><a href="#Indexing-amp-slicing" class="headerlink" title="Indexing &amp; slicing"></a>Indexing &amp; slicing</h2><p>Arrays in NumPy can be used as <code>list</code> in python, which means that the indexing and slicing in arrays are the same as those in <code>list</code>, though the data type is a built-in type of numpy (<code>float64</code>, <code>int32</code>, <code>ndarray</code>, etc.).</p>
<blockquote>
<p>When slicing a certain column, we should use <code>a[:, j]</code></p>
</blockquote>
<p>In general, there are 5 different ways to read <code>ndarray</code> using <code>[]</code>:</p>
<ol>
<li>Integer<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"> <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"> a = [[0 1 2 3]</span></span><br><span class="line"><span class="string">       [4 5 6 7]</span></span><br><span class="line"><span class="string">       [8 9 10 11]]</span></span><br><span class="line"><span class="string"> &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># Get [0 1 2 3], shape(4,)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line"><span class="comment"># Get 0, shape(), scalar</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>The return object shares memory with initial object.</p>
</blockquote>
</li>
<li>Slicing<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(a[:, <span class="number">1</span>])</span><br><span class="line"><span class="comment"># Get [1 5 9], the 1 column, shape(3,)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>:<span class="number">2</span>, :])</span><br><span class="line"><span class="comment"># Get [[1 2] [5 6]], shape(2, 2)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a[::<span class="number">2</span>, ::<span class="number">2</span>]) <span class="comment"># that is set steps to 2</span></span><br><span class="line"><span class="comment"># Get [[0 2] [8 10]], shape(2, 2)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>The return object still shares memory with initial object.</p>
</blockquote>
</li>
<li>Integer list<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(a[[<span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="comment"># Get [[0 1 2 3] [4 5 6 7]], shape(2, 3)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>The return object still shares memory with initial object.</p>
</blockquote>
</li>
<li>Integer matrix<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">12</span>)</span><br><span class="line">b = np.array[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>]]</span><br><span class="line"><span class="built_in">print</span>(a[b])</span><br><span class="line"><span class="comment"># Get [[1 2 4] [5 6 7]], shape(2, 3)</span></span><br><span class="line"></span><br><span class="line">c = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">d = np.array([[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="built_in">print</span>(c[d])</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[[3 4]</span></span><br><span class="line"><span class="string">  [1 2]]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> [[1 2]</span></span><br><span class="line"><span class="string">  [3 4]]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># c[[1, 0]] is (2, 2) so c[d] is (2, 2, 2)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>The return object is a new object. It <strong>doesn&#39;t share</strong> memory with initial object. The value of <code>b</code> is the index of element in specific dimension in <code>a</code>.</p>
<p>To understand the second one, you should focus on <code>d</code> rather than <code>c</code>. That is, the values of <code>d</code> are the indexex of <code>c</code>&#39;s first dimension (row). And NumPy just replaces them with value of the specified dimension.</p>
</blockquote>
</li>
<li>Bool array<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="literal">True</span>, <span class="literal">False</span>], [<span class="literal">False</span>, <span class="literal">True</span>]])</span><br><span class="line"><span class="built_in">print</span>(a[b])</span><br><span class="line"><span class="comment"># Get [1 4], shape(2, )</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>The return object is not a new object. It <strong>shares</strong> memory with initial object. When using bool array, Numpy will only keep the <code>True</code> element and return a vector.</p>
</blockquote>
</li>
</ol>
<h2 id="Elementwise-computations"><a href="#Elementwise-computations" class="headerlink" title="Elementwise computations"></a>Elementwise computations</h2><p>In elementwise computations, NumPy apply the same operation to each elment of matrix. For example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">a +-*/ b = [[<span class="number">1</span>+-*/<span class="number">5</span>, <span class="number">2</span>+-*/<span class="number">6</span>], [<span class="number">3</span>+-*/<span class="number">7</span>, <span class="number">4</span>+-*/<span class="number">8</span>]]</span><br><span class="line">a**b = [[<span class="number">1</span>**<span class="number">5</span>, <span class="number">2</span>**<span class="number">6</span>], [<span class="number">3</span>**<span class="number">7</span>, <span class="number">4</span>**<span class="number">8</span>]] <span class="comment"># equal to np.power(a, b)</span></span><br><span class="line"><span class="comment"># exp^a</span></span><br><span class="line">e = np.exp(a)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Because of broadcasting, <code>b = 5 * a</code> <code>b = a + 1</code> or <code>b = a**2</code> are also valid. Such guidelines also apply to boolen operations, that is:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">pos = a == <span class="number">1</span> <span class="comment"># a == 1 will be apply to each element of a and return matrix</span></span><br><span class="line"><span class="built_in">print</span>(pos)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">We get:</span><br><span class="line">[[False  True]</span><br><span class="line"> [ True  True]</span><br><span class="line"> [False  True]]</span><br></pre></td></tr></table></figure>

<h2 id="Broadcasting"><a href="#Broadcasting" class="headerlink" title="Broadcasting"></a>Broadcasting</h2><p>If <code>a</code> is a matrix, <code>b</code> is a vector with the same row or column number. Then <code>a+-*/b</code> will <code>+-*/</code> <code>b</code> to each row or column of <code>a</code>. This is the <strong>Broadcasting</strong> in numpy. See more about it on <a target="_blank" rel="noopener" href="https://numpy.org/doc/stable/user/basics.broadcasting.html">Broadcasting</a>.</p>
<p>More generally, the mechanism of broadcasting is aligning the shape of each dimension of arrays to the largest one of both arrays. Broadcasting only works when two arrays have different dimensions or two arrays have the same dimensions but at least one dimension is <code>1</code>. For examples:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">6</span>).reshape(-<span class="number">1</span>, <span class="number">1</span>) <span class="comment"># shape (6, 1)</span></span><br><span class="line">b = np.arange(<span class="number">5</span>) <span class="comment"># shape(5, )</span></span><br><span class="line">c = a + b <span class="comment"># shape(6, 5)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">a extends to (6, 5)</span></span><br><span class="line"><span class="string">b extends to (6, 5)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>The procedures of broadcasting:</p>
<ol>
<li>Compare the shape of each dimension of two arrays from the last dimension; [e.g. a(6, 1), b(5, ), compare 1 with 5]</li>
<li>Broadcasting the dimension: Broadcast the dimension of the array with smaller dimension from back to front; [e.g. a(6, 1), b(5, ), broadcast b(5, ) to b(1, 5)]</li>
<li>Broadcasting the shape of dimension: The array with shape 1 in one dimension will be stretched to match the corresponding dimension shape of another array. [e.g. a(6, 1)-&gt;a(6, 5); b(1, 5)-&gt;b(6, 5)]</li>
<li>Report error when one dimension can&#39;t be broadcast. Namely, the two arrays have different shapes in this dimension but neither of them have a shape <code>1</code>.</li>
</ol>
<h2 id="Dot-product"><a href="#Dot-product" class="headerlink" title="Dot product"></a>Dot product</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c = np.dot(a, b)</span><br></pre></td></tr></table></figure>

<h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Add all the elements up, return a scalar</span></span><br><span class="line">b = np.<span class="built_in">sum</span>(a) <span class="comment"># use [axis] to determine row or column</span></span><br><span class="line"><span class="comment"># Avearge of a, return a scalar</span></span><br><span class="line">c = np.mean(a) <span class="comment"># use [axis] to determini row or column</span></span><br><span class="line"><span class="comment"># Concentrate vectors to form a matrix. Each item is a column.</span></span><br><span class="line">d = np.c_[a, a**<span class="number">2</span>] <span class="comment"># if a.shape=4, d.shape=(4,2)</span></span><br><span class="line"><span class="comment"># Returns the index of the maximum value of an array along a certain axis (0: column, 1: row).</span></span><br><span class="line">f = np.argmax(a, [axis], [out]) <span class="comment"># type: ndarray</span></span><br></pre></td></tr></table></figure>

<h2 id="Tile"><a href="#Tile" class="headerlink" title="Tile"></a>Tile</h2><p><code>numpy.tile(A, reps)</code>, where <code>A</code> is the input array and <code>reps</code> is the replication factor of <code>A</code> in each dimension, extends the dimension or shape of the original array.</p>
<h3 id="A-dim-gt-len-reps"><a href="#A-dim-gt-len-reps" class="headerlink" title="A.dim &gt; len(reps)"></a>A.dim &gt; len(reps)</h3><p>For examples:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">b = np.tile(a, (<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>NumPy will extend the shape of <code>b</code> to <code>(1, 2)</code> from back to front. Therefore, it is equal to <code>np.tile(a, (1, 2))</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = </span><br><span class="line">[[0 1 2 0 1 2]</span><br><span class="line"> [3 4 5 3 4 5]]</span><br></pre></td></tr></table></figure>

<h3 id="A-dim-lt-len-reps"><a href="#A-dim-lt-len-reps" class="headerlink" title="A.dim &lt; len(reps)"></a>A.dim &lt; len(reps)</h3><p>For examples:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]]) <span class="comment"># shape (2, 3)</span></span><br><span class="line">b = np.tile(a, (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<p>NumPy will extend the shape of <code>a</code> to <code>(1, 2, 3)</code> from back to front. Therefore, the column of <code>a</code> will copy 3 times, the row of <code>a</code> will copy 2 times and the first dimension will copy 1 time.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">b =</span><br><span class="line">[[[0 1 2 0 1 2 0 1 2 0 1 2]</span><br><span class="line">  [3 4 5 3 4 5 3 4 5 3 4 5]</span><br><span class="line">  [0 1 2 0 1 2 0 1 2 0 1 2]</span><br><span class="line">  [3 4 5 3 4 5 3 4 5 3 4 5]</span><br><span class="line">  [0 1 2 0 1 2 0 1 2 0 1 2]</span><br><span class="line">  [3 4 5 3 4 5 3 4 5 3 4 5]]</span><br><span class="line"></span><br><span class="line"> [[0 1 2 0 1 2 0 1 2 0 1 2]</span><br><span class="line">  [3 4 5 3 4 5 3 4 5 3 4 5]</span><br><span class="line">  [0 1 2 0 1 2 0 1 2 0 1 2]</span><br><span class="line">  [3 4 5 3 4 5 3 4 5 3 4 5]</span><br><span class="line">  [0 1 2 0 1 2 0 1 2 0 1 2]</span><br><span class="line">  [3 4 5 3 4 5 3 4 5 3 4 5]]]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>All vectorizable operations use SIMD, so they are much faster than <code>loop</code>.</p>
</blockquote>
<h2 id="Random-choice"><a href="#Random-choice" class="headerlink" title="Random.choice"></a>Random.choice</h2><p><code>numpy.random.choice(a, size=None, replace=True, p=None)</code>, which is an random sampling operation and will return an array whose elements are the result of random sampling.</p>
<ul>
<li><code>a</code>, an array or integer. If <code>a</code> is an array, the samples it chooses come from it, otherwise, the samples it chooses come from <code>np.arrange(a)</code>;</li>
<li><code>size</code>, an integer or a tuple. If <code>size</code> is an integer, it will choose <code>size</code> samples in total. If <code>size</code> is an tuple (e.g. <code>(m, n, k)</code>), it will produce <code>m x n x k</code> samples and arrange them in the shape of <code>(m, n, k)</code>;</li>
<li><code>replace</code>, <code>True</code> or <code>False</code>, where <code>True</code> means sampling with replacement (放回取样) and <code>False</code> means sampling without replacement (不放回取样);</li>
<li><code>p</code>, <code>None</code> or an array. If <code>None</code>, the probability of selecting each number is the same; if it is an array, the length of the array <code>p</code> should be the same as the length of <code>a</code>, and the elements in the array <code>p</code> correspond to the probability of choosing each element in <code>a</code>.</li>
</ul>
<h1 id="More-information"><a href="#More-information" class="headerlink" title="More information"></a>More information</h1><ul>
<li><a target="_blank" rel="noopener" href="https://numpy.org/doc/stable/">NumPy.org</a></li>
<li><a target="_blank" rel="noopener" href="https://numpy.org/doc/stable/user/basics.broadcasting.html">NumPy Broadcasting</a></li>
<li><a target="_blank" rel="noopener" href="https://numpy.org/doc/stable/genindex.html">NumPy function</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"># Python</a>
              <a href="/tags/Tool/" rel="tag"># Tool</a>
              <a href="/tags/Data-Analysis/" rel="tag"># Data Analysis</a>
          </div>
          <script type="text/javascript">
          var tagsall=document.getElementsByClassName("post-tags")
          for (var i = tagsall.length - 1; i >= 0; i--){
            var tags=tagsall[i].getElementsByTagName("a");
            for (var j = tags.length - 1; j >= 0; j--) {
                var r=Math.floor(Math.random()*75+130);
                var g=Math.floor(Math.random()*75+100);
                var b=Math.floor(Math.random()*75+80);
                tags[j].style.background = "rgb("+r+","+g+","+b+")";
            }
          }                        
          </script>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/04/21/LabsOfMachineLearningByAndrewNg1/" rel="prev" title="Lab: Supervised Machine Learning - Regression and Classification">
                  <i class="fa fa-angle-left"></i> Lab: Supervised Machine Learning - Regression and Classification
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/04/22/Scikit-learn/" rel="next" title="Scikit-learn">
                  Scikit-learn <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fas fa-star-of-david"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">ChaosTsang</span>
  </div>

<!-- <br /> -->
<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<!-- <span id="times">载入时分秒...</span> -->
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("11/17/2022 8:00:00");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); 
        if(String(snum).length ==1 ){snum = "0" + snum;}
        // var times = document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "+hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>
    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","mhchem":false,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
